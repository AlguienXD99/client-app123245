<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cliente 3D Personalizado</title>
    <style>
        body { 
            margin: 0; 
            overflow: hidden; 
            height: 100%; 
            background-color: #000; 
        }

        canvas { 
            display: block; 
        }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Configuración básica de Three.js
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Crear un cubo para representar al jugador
        const geometry = new THREE.BoxGeometry(1, 2, 1);
        const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
        const player = new THREE.Mesh(geometry, material);
        scene.add(player);

        // Posicionar la cámara
        camera.position.z = 5;

        // Crear una skybox
        const loader = new THREE.CubeTextureLoader();
        const texture = loader.load([
            'path_to_skybox/px.jpg',  // reemplace con tus imágenes
            'path_to_skybox/nx.jpg',  // reemplace con tus imágenes
            'path_to_skybox/py.jpg',  // reemplace con tus imágenes
            'path_to_skybox/ny.jpg',  // reemplace con tus imágenes
            'path_to_skybox/pz.jpg',  // reemplace con tus imágenes
            'path_to_skybox/nz.jpg'   // reemplace con tus imágenes
        ]);
        scene.background = texture;

        // Controles del jugador
        let moveForward = false, moveBackward = false, moveLeft = false, moveRight = false, jump = false;
        let velocity = new THREE.Vector3();

        // Variables para las teclas
        const controls = {
            W: false,
            A: false,
            S: false,
            D: false,
            Space: false
        };

        // Detectar teclas presionadas
        document.addEventListener('keydown', (event) => {
            if (event.key === 'w') controls.W = true;
            if (event.key === 'a') controls.A = true;
            if (event.key === 's') controls.S = true;
            if (event.key === 'd') controls.D = true;
            if (event.key === ' ') controls.Space = true;
        });

        document.addEventListener('keyup', (event) => {
            if (event.key === 'w') controls.W = false;
            if (event.key === 'a') controls.A = false;
            if (event.key === 's') controls.S = false;
            if (event.key === 'd') controls.D = false;
            if (event.key === ' ') controls.Space = false;
        });

        // Lógica de movimiento del jugador
        function updatePlayerMovement() {
            let speed = 0.1;
            if (controls.W) player.position.z -= speed;
            if (controls.S) player.position.z += speed;
            if (controls.A) player.position.x -= speed;
            if (controls.D) player.position.x += speed;
            if (controls.Space) player.position.y += speed * 2;  // Simulamos un salto
        }

        // Redibujar la escena
        function animate() {
            requestAnimationFrame(animate);
            updatePlayerMovement();
            renderer.render(scene, camera);
        }

        // Función de redimensionado de ventana
        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
        });

        animate();
    </script>
</body>
</html>
